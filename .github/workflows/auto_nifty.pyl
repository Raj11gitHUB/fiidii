name: Auto Download NSE Data


on:
schedule:
- cron: '30 11 * * 1-5' # 5:00 PM IST (Monâ€“Fri)
workflow_dispatch:


jobs:
download:
runs-on: ubuntu-latest


steps:
- name: Checkout repo
uses: actions/checkout@v4


- name: Set up Python
uses: actions/setup-python@v5
with:
python-version: '3.11'


- name: Install dependencies
run: |
pip install pandas requests


- name: Run downloader
run: python download.py


- name: Commit & push data
run: |
git config user.name "github-actions[bot]"
git config user.email "github-actions[bot]@users.noreply.github.com"
git add data/*.csv
git commit -m "Auto-update NIFTY & BANKNIFTY data" || echo "No changes"
git push
